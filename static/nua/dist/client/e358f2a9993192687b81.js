(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{467:function(t,e,l){"use strict";l.r(e);var d=l(23),o=l(49),r=l(32),n=l.n(r),c={middleware:["check-auth","auth"],data:function(){return{koy:(new Date).toISOString().substr(0,10),hoy:n()().format("YYYY-MM-DD"),pagination:{sortBy:"salida",descending:!0,rowsPerPage:10},headers:[{text:"Película",align:"left",value:"pelicula"},{text:"Fecha de salida",value:"salida"},{text:"Ingreso",value:"entrada"},{text:"Días activa",value:"diasactiva"}],datosSalidas:[]}},methods:{comparafechas:function(t){return n()(t).isSameOrAfter(this.hoy)&&console.log(n()(t).diff(this.hoy,"days")),n()(t).isSameOrAfter(this.hoy)}},computed:Object(d.a)({},Object(o.b)(["salidasProximas"])),mounted:function(){if(this.salidasProximas){for(var t=0;t<this.salidasProximas.length;++t){var e=void 0;e=n()(this.salidasProximas[t].salida).isSameOrBefore(this.hoy,"day")?n()(this.salidasProximas[t].salida):n()(this.hoy),this.datosSalidas.push({pelicula:this.salidasProximas[t].Pelicula.titulo,salida:this.salidasProximas[t].salida,entrada:this.salidasProximas[t].entrada,diasactiva:e.diff(this.salidasProximas[t].entrada,"days")})}this.datosSalidas=this.lodash.orderBy(this.datosSalidas,["pelicula"],["desc"])}this.tituloSeccion("Próximas salidas")}},h=l(17),f=l(30),m=l.n(f),v=l(409),x=l(118),_=l(119),component=Object(h.a)(c,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{attrs:{xs12:""}},[t._v(t._s(t.hoy)+" KOY: "+t._s(t.koy))]),t._v(" "),l("v-flex",{attrs:{xs10:"","offset-xs1":""}},[t.datosSalidas?l("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.datosSalidas,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[l("td",[t._v(t._s(e.item.pelicula))]),t._v(" "),l("td",{staticClass:"text-xs-left",class:t.comparafechas(e.item.salida)?"alerta":""},[t._v(t._s(e.item.salida))]),t._v(" "),l("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.entrada))]),t._v(" "),l("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.diasactiva))])]}}])}):t._e()],1)],1)},[],!1,null,null,null);e.default=component.exports;m()(component,{VDataTable:v.a,VFlex:x.a,VLayout:_.a})}}]);